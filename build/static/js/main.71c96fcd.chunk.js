(this["webpackJsonpgoit-react-hw-06-phonebook"]=this["webpackJsonpgoit-react-hw-06-phonebook"]||[]).push([[0],{4:function(t,e,n){t.exports={phonebook:"PhoneBook_phonebook__2DcGW",details:"PhoneBook_details__3ehCp",addContactBtn:"PhoneBook_addContactBtn__Mo0pn",submitForm:"PhoneBook_submitForm__2xI-m",contactDetails:"PhoneBook_contactDetails__2Lcd5",contactName:"PhoneBook_contactName__33SH9",removeButton:"PhoneBook_removeButton__Do9_U",formDescription:"PhoneBook_formDescription__3bOPh",searchForm:"PhoneBook_searchForm__aoNcE"}},43:function(t,e,n){t.exports=n(73)},71:function(t,e,n){},72:function(t,e,n){},73:function(t,e,n){"use strict";n.r(e);var a=n(1),c=n.n(a),o=n(9),r=n.n(o),s=n(18),u=n(19),l=n(22),i=n(20),m=n(4),d=n.n(m),h=n(13),b=n(39),f=n.n(b),p=n(11),C=n(3),v={addContactRequest:Object(C.b)("contact/addRequest"),addContactSuccess:Object(C.b)("contact/addSuccess"),addContactError:Object(C.b)("contact/addError"),fetchContactsRequest:Object(C.b)("contact/fetchRequest"),fetchContactsSuccess:Object(C.b)("contact/fetchSuccess"),fetchContactsError:Object(C.b)("contact/fetchError"),delContactRequest:Object(C.b)("contact/delContRequest"),delContactsSuccess:Object(C.b)("contact/delContSuccess"),delContactsError:Object(C.b)("contact/delContError"),doFilter:Object(C.b)("contact/filter",(function(t){return{payload:{filter:t}}}))},O=n(23),E=n.n(O),g={addContact:function(t,e){return function(n){n(v.addContactRequest()),E.a.post("http://localhost:2000/contacts",{name:t,number:e}).then((function(t){var e=t.data;n(v.addContactSuccess(e))})).catch((function(t){n(v.addContactError())}))}},fetchContacts:function(){return function(t){t(v.fetchContactsRequest()),E.a.get("http://localhost:2000/contacts").then((function(e){var n=e.data;t(v.fetchContactsSuccess(n))})).catch((function(e){t(v.fetchContactsError(e))}))}},removeContact:function(t){return function(e){e(v.delContactRequest()),E.a.delete("http://localhost:2000/contacts/".concat(t)).then((function(){return e(v.delContactsSuccess(t))})).then((function(t){return v.delContactsError(t)}))}}},j=(n(38),n(10)),_=function(t){return t.contacts.items},k=function(t){return t.contacts.filter},y={getContacts:_,getFilterValue:k,getVisibleContacts:Object(j.a)([_,k],(function(t,e){return t.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())}))}))};h.a.configure();var S=function(t){Object(l.a)(n,t);var e=Object(i.a)(n);function n(){var t;Object(s.a)(this,n);for(var a=arguments.length,c=new Array(a),o=0;o<a;o++)c[o]=arguments[o];return(t=e.call.apply(e,[this].concat(c))).state={name:"",number:""},t.handleChange=function(e){t.setState({name:e.target.value})},t.handleChangeNum=function(e){t.setState({number:e.target.value})},t.notifiation=function(){h.a.error("".concat(t.state.name," is already in list!"),{position:"top-center",autoClose:2500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!0,progress:void 0})},t.handleSubmit=function(e){e.preventDefault();var n=t.props.contacts,a=t.state.name;if(n.find((function(t){return t.name.toLowerCase()===a.toLowerCase()})))t.notifiation();else{if(0===a.length)return;t.setState({name:"",number:""}),t.props.addContact(t.state.name,t.state.number)}},t}return Object(u.a)(n,[{key:"render",value:function(){var t=this.state,e=t.name,n=t.number;return c.a.createElement("form",{className:d.a.submitForm,onSubmit:this.handleSubmit},c.a.createElement("span",{className:d.a.details},"Name: "),c.a.createElement("input",{type:"text",value:e,onChange:this.handleChange}),c.a.createElement("br",null),c.a.createElement("span",{className:d.a.details},"Phone:"),c.a.createElement(f.a,{mask:"(999)-999-99-99",type:"text",value:n,onChange:this.handleChangeNum}),c.a.createElement("br",null),c.a.createElement("button",{className:d.a.addContactBtn,onSubmit:this.handleSubmit,type:"submit"},e?"Add ".concat(e):"Add Contact"))}}]),n}(a.Component),N={addContact:g.addContact},B=Object(p.b)((function(t){return{contacts:y.getContacts(t)}}),N)(S);var F={handleFilter:v.doFilter},P=Object(p.b)((function(t){return{value:y.getFilterValue(t)}}),F)((function(t){var e=t.value,n=t.handleFilter;return c.a.createElement("form",{className:d.a.searchForm},c.a.createElement("span",{className:d.a.formDescription},"Find contacts by name"),c.a.createElement("input",{className:d.a.searchInput,onChange:function(t){return n(t.target.value)},value:e,type:"text"}))})),D=n(75),w=n(74);var q,R={deleteContact:g.removeContact},x=Object(p.b)((function(t){return{contacts:y.getVisibleContacts(t)}}),R)((function(t){var e=t.contacts,n=t.deleteContact;return c.a.createElement(D.a,{component:"ul"},e.map((function(t){var e=t.name,a=t.id,o=t.number;return c.a.createElement(w.a,{key:a,timeout:300,classNames:"items"},c.a.createElement("li",{key:a},c.a.createElement("span",{className:"".concat(d.a.contactName," ").concat(d.a.contactDetails)},e+":"),c.a.createElement("span",{className:"".concat(d.a.contactPhone," ").concat(d.a.contactDetails)},o),c.a.createElement("button",{className:d.a.removeButton,type:"button",onClick:function(){return n(a)}},"Delete")))})))})),L=(n(71),n(41)),V=function(t){Object(l.a)(n,t);var e=Object(i.a)(n);function n(){return Object(s.a)(this,n),e.apply(this,arguments)}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.props.onFetchContacts()}},{key:"render",value:function(){var t=this.props.contacts;return c.a.createElement("div",{className:d.a.phonebook},c.a.createElement(L.a,{type:"circle",bg:!0}),c.a.createElement(w.a,{appear:!0,in:!0,timeout:2e3,unmountOnExit:!0,classNames:"logo"},c.a.createElement("h2",null,"Phonebook")),c.a.createElement(B,null),c.a.createElement("h2",null,"Contacts"),t.length>1&&c.a.createElement(P,null),c.a.createElement(x,null))}}]),n}(a.Component),A={onFetchContacts:g.fetchContacts},H=Object(p.b)((function(t){return{contacts:y.getContacts(t)}}),A)(V),I=n(21),J=n(17),M=n(8);h.a.configure();var G=Object(C.c)([],(q={},Object(J.a)(q,v.fetchContactsSuccess,(function(t,e){return e.payload})),Object(J.a)(q,v.addContactSuccess,(function(t,e){if(e.payload.name.length>=1)return[].concat(Object(I.a)(t),[e.payload]);h.a.info("First, you have to enter the name!",{position:"top-center",autoClose:2500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!0,progress:void 0})})),Object(J.a)(q,v.delContactsSuccess,(function(t,e){return t.filter((function(t){return t.id!==e.payload}))})),q)),U=Object(C.c)("",Object(J.a)({},v.doFilter,(function(t,e){return e.payload.filter}))),W=Object(M.c)({items:G,filter:U}),z=Object(C.d)(),K=Object(C.a)({reducer:{contacts:W},middleware:Object(I.a)(z)});n(72);r.a.render(c.a.createElement(p.a,{store:K},c.a.createElement(H,null)),document.getElementById("root"))}},[[43,1,2]]]);
//# sourceMappingURL=main.71c96fcd.chunk.js.map